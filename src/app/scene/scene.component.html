<svg width="100%" height="100%" preserveAspectRatio="xMidYMax slice" viewBox="0 0 100 100">
    <defs>
        <linearGradient id="colorGradientPrimary" x1="0.74" y1="0.06" x2="0.26" y2="0.94">
            <stop offset="1%" [attr.stop-color]="primaryColorGradient()[0].toString()"/>
            <stop offset="99%" [attr.stop-color]="primaryColorGradient()[1].toString()"/>
        </linearGradient>
        <linearGradient id="colorGradientAdditional" x1="0.26" y1="0.06" x2="0.74" y2="0.94">
            <stop offset="1%" [attr.stop-color]="additionalColorGradient()[0].toString()"/>
            <stop offset="99%" [attr.stop-color]="additionalColorGradient()[1].toString()"/>
        </linearGradient>
        <linearGradient id="lightGradient" x1="0.99" y1="0.42" x2="0.01" y2="0.58">
        <stop offset="1%" [attr.stop-color]="lightGradient()[0].toString()"/>
        <stop offset="99%" [attr.stop-color]="lightGradient()[1].toString()"/>
        </linearGradient>
        <linearGradient id="overlayGradient" x1="0.99" y1="0.42" x2="0.01" y2="0.58">
            <stop offset="1%" [attr.stop-color]="overlayGradient()[0].toString()"/>
            <stop offset="99%" [attr.stop-color]="overlayGradient()[1].toString()"/>
            </linearGradient>
        <linearGradient id="shadowGradient" x1="0.5" y1="1" x2="0.5" y2="0">
            <stop offset="1%" stop-color="rgba(0,0,0,0.08)"/>
            <stop offset="99%" stop-color="rgba(0,0,0,0.02)"/>
        </linearGradient>
        <linearGradient id="moonGradient" x1="1" y1="0.5" x2="0" y2="0.5">
            <stop offset="5%" stop-color="rgba(255, 255, 255, 0.06)"/>
            <stop offset="90%" stop-color="rgba(255, 255, 255, 0.005)"/>
        </linearGradient>


	    <filter id="sofGlow" height="300%" width="300%" x="-75%" y="-75%">
            <!-- Thicken out the original shape -->
            <feMorphology operator="dilate" radius="0.2" in="SourceAlpha" result="thicken" />

            <!-- Use a gaussian blur to create the soft blurriness of the glow -->
            <feGaussianBlur in="thicken" stdDeviation="1" result="blurred" />

            <!-- Change the colour -->
            <feFlood [attr.flood-color]="primaryColorGradient()[0].toString()" result="glowColor" />

            <!-- Color in the glows -->
            <feComposite in="glowColor" in2="blurred" operator="in" result="softGlow_colored" />

            <!--	Layer the effects together -->
            <feMerge>
                <feMergeNode in="softGlow_colored"/>
                <feMergeNode in="SourceGraphic"/>
            </feMerge>

        </filter>
    </defs>
    <rect fill="url(#colorGradientPrimary)" height="100%" width="100%"/>
    <rect fill="url(#colorGradientAdditional)" height="100%" width="100%"/>
    <rect fill="url(#lightGradient)" height="100%" width="100%"/>

    <circle style="mix-blend-mode: hard-light;" fill="url(#moonGradient)" cx="32" cy="45" r="4"></circle>
    <circle style="mix-blend-mode: hard-light;" fill="url(#moonGradient)" cx="20" cy="50" r="10"></circle>
      

    @for (plant of plants; track plant) {
        <g swayPlant [plant]="plant" [time]="time()"></g>
    }

    <rect fill="url(#overlayGradient)" height="100%" width="100%"/>
</svg>